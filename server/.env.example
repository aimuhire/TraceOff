# Server Environment Configuration
# Copy this file to .env and customize the values for your environment

# Server Configuration
NODE_ENV=development
PORT=3000
HOST=localhost

# Logging Configuration
LOG_LEVEL=info

# CORS Configuration
CORS_ORIGIN=true
CORS_CREDENTIALS=true

# JWT Configuration (if using authentication)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h

# Database Configuration (if using a database)
DATABASE_URL=sqlite:./data/link_cleaner.db
# For PostgreSQL: postgresql://username:password@localhost:5432/link_cleaner
# For MySQL: mysql://username:password@localhost:3306/link_cleaner

# Redis Configuration (for caching and rate limiting)
# Leave empty to use memory store for rate limiting
REDIS_URL=
REDIS_PASSWORD=

# Rate Limiting Configuration
# Note: Rate limiting uses memory store by default. Set REDIS_URL to use Redis for distributed rate limiting.

# General API Rate Limits
RATE_LIMIT_GENERAL_MAX=100
RATE_LIMIT_GENERAL_WINDOW=1m

# Clean Endpoint Rate Limits (more restrictive)
RATE_LIMIT_CLEAN_MAX=20
RATE_LIMIT_CLEAN_WINDOW=1m

# Health Check Rate Limits (very permissive)
RATE_LIMIT_HEALTH_MAX=1000
RATE_LIMIT_HEALTH_WINDOW=1m

# Admin/Strategies Rate Limits
RATE_LIMIT_ADMIN_MAX=50
RATE_LIMIT_ADMIN_WINDOW=1m

# Rate Limit Bypass (comma-separated IPs)
RATE_LIMIT_WHITELIST_IPS=127.0.0.1,::1

# Security
ENABLE_HTTPS=false
SSL_CERT_PATH=
SSL_KEY_PATH=

# Admin Authentication
# 64-character secret for admin access to /admin endpoints and strategy CRUD operations
ADMIN_SECRET=your-64-character-admin-secret-key-change-this-in-production-1234567890abcdef

# External API Configuration
EXTERNAL_API_TIMEOUT=10000
EXTERNAL_API_RETRY_ATTEMPTS=3

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# Cache Configuration
CACHE_TTL=3600
ENABLE_CACHE=true

# Monitoring and Analytics
ENABLE_METRICS=true
METRICS_PORT=9090

# Development Tools
ENABLE_SWAGGER=true
ENABLE_DEBUG_ROUTES=false
