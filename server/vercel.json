{
  "version": 2,
  "name": "traceoff-server",
  "builds": [
    {
      "src": "api/index.js",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    { "src": "/api/(.*)", "dest": "api/index.js" },
    { "src": "/admin/(.*)", "dest": "api/index.js" },
    { "src": "/health", "dest": "api/index.js" },
    { "src": "/", "dest": "api/index.js" }
  ],
  "env": {
    "NODE_ENV": "production",
    "LOG_LEVEL": "info",
    "ADMIN_SECRET": "@admin_secret",
    "RATE_LIMIT_GENERAL_MAX": "100",
    "RATE_LIMIT_GENERAL_WINDOW": "1m",
    "RATE_LIMIT_CLEAN_MAX": "20",
    "RATE_LIMIT_CLEAN_WINDOW": "1m",
    "RATE_LIMIT_HEALTH_MAX": "1000",
    "RATE_LIMIT_HEALTH_WINDOW": "1m",
    "RATE_LIMIT_ADMIN_MAX": "50",
    "RATE_LIMIT_ADMIN_WINDOW": "1m",
    "RATE_LIMIT_WHITELIST_IPS": "127.0.0.1,::1",
    "REDIS_URL": "@redis_url"
  }
}
